<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Typing</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><!-- Blog title and subtitle--><header class="wrapper header"><div class="container blog-title"><a id="logo" href="/." class="title">Typing</a><span class="subtitle"></span><label id="toggle-menu" for="menu" onclick><i class="fa fa-bars"></i></label></div><!-- use checkbox hack for toggle nav-bar on small screens--><input id="menu" type="checkbox"><div class="container nav-items"><a href="/" class="sidebar-nav-item active">Home</a><a href="/archives" class="sidebar-nav-item">Archives</a></div></header><article class="wrapper"><div id="index-main" class="container entries"><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/02/22/uwsgi-ice-seg-fault/">uwsgi+django+ice reload segmentation fault问题</a></div><div class="post-content"><p><a href="https://doc.zeroc.com/" target="_blank" rel="external">zeroc ice</a>是一个rpc框架,广泛应用于我们后台服务，在<a href="https://uwsgi-docs.readthedocs.io/en/latest/" target="_blank" rel="external">uwsgi</a>+<a href="https://www.djangoproject.com/" target="_blank" rel="external">django</a>使用icepy(ice python是在ice c++的基础上封装了一层供python使用)的时候遇到了下面这个问题</p></div><div class="post-meta"><div class="post-time">2017-02-22</div><div class="post-tags"><a class="post-tag-link" href="/tags/uwsgi/">uwsgi</a><a class="post-tag-link" href="/tags/zeroc-ice/">zeroc ice</a></div><div class="btn-border-small"><a href="/2017/02/22/uwsgi-ice-seg-fault/">继续阅读</a></div></div><div class="post-list__divider"></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2017/01/06/httpclient-mem-leak/">apache httpclient 多线程初始化导致内存泄漏</a></div><div class="post-content"><p>2017-01-03 我旁边的同事突然问我说怎么机器上账户切换不了了，提示Resource temporarily unavailable，条件反射是不是连接泄漏了（某干过这事 害怕～），ss -s了下 几百个连接而已 正常的不行，然后top了下，发现服务进程吃了19g的内存，估计就是内存泄漏了，导致连切换账户的资源都没有，于是问老大要了root 权限，想dump下堆栈和内存的，结果死活连不上jvm，无奈只能杀了进程重启了.</p></div><div class="post-meta"><div class="post-time">2017-01-06</div><div class="btn-border-small"><a href="/2017/01/06/httpclient-mem-leak/">继续阅读</a></div></div><div class="post-list__divider"></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2016/12/11/ice-block-thread/">记一次超时事故</a></div><div class="post-content"><p>前几日下午，突然收到很多超时的反馈，查了下开发者反馈的一些请求，基本都是在毫秒级处理完成的，但是开发者反馈是超时很严重的，于是首先怀疑网络问题，但是反馈的开发者上面ping到服务器的延迟都非常小，稳定且没有丢包。</p></div><div class="post-meta"><div class="post-time">2016-12-11</div><div class="btn-border-small"><a href="/2016/12/11/ice-block-thread/">继续阅读</a></div></div><div class="post-list__divider"></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2016/10/29/uwsgi-async/">[uwsgi代码小札] async.c源码阅读</a></div><div class="post-content"><p>async.c是uwsgi提供的异步io的模块，相关的文档 <a href="http://uwsgi-docs.readthedocs.io/en/latest/Async.html" target="_blank" rel="external">uwsgi async doc</a>虽然花了不少时间看，但是涉及的细节过多，所以也只是简单过了下整个流程,注释了一些自己的见解<br>greenlet之类的框架也只是粗略过了下，所以关于和协程交互的那块就还没有详细的注释</p></div><div class="post-meta"><div class="post-time">2016-10-29</div><div class="post-tags"><a class="post-tag-link" href="/tags/uwsgi/">uwsgi</a></div><div class="btn-border-small"><a href="/2016/10/29/uwsgi-async/">继续阅读</a></div></div><div class="post-list__divider"></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2016/10/15/pika/">Pika SelectConnection的定时器</a></div><div class="post-content"><p>网络请求中，定时器一般用于超时操作的处理，由于各种定时器的实现思路都非常类似 所以由SelectConnection的代码为例子讲下定时器的实现思路。SelectConnection是pika 异步的长连接实现，适配了select, epoll, kqueue or poll等接口,由于原理都差不多，以下选择epoll的实现来讲</p></div><div class="post-meta"><div class="post-time">2016-10-15</div><div class="post-tags"><a class="post-tag-link" href="/tags/pika/">pika</a></div><div class="btn-border-small"><a href="/2016/10/15/pika/">继续阅读</a></div></div><div class="post-list__divider"></div></div></div><div class="post-entry"><div class="post-desc"><div class="post-title"><a href="/2016/10/07/couchbase/">Couchbase java client 解析binary doc失败</a></div><div class="post-content"><p>内部模块的交互都是使用protobuf,所有有部分数据是存protobuf的bytes到couchbase里面,但是某天发现从coucbase里面取protobuf的binary数据后客户端解析失败:</p></div><div class="post-meta"><div class="post-time">2016-10-07</div><div class="post-tags"><a class="post-tag-link" href="/tags/couchbase/">couchbase</a></div><div class="btn-border-small"><a href="/2016/10/07/couchbase/">继续阅读</a></div></div><div class="post-list__divider"></div></div></div></div></article><div class="wrapper page-navigator-wrapper"></div><footer class="footer wrapper"><div class="social"><a href="mailto:kcyh0224@gmail.com" target="_blank"><i class="fa fa-envelope-o"></i></a></div><div class="footer-content">© 2017 <a href="/" rel="nofollow">Typing</a>. Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo</a>. Theme <a target="_blank" href="https://github.com/lotabout/hexo-theme-noise">Full Armor</a>.</div></footer><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body></html>